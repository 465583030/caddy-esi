<!DOCTYPE html>
<html lang="en-US" xmlns:esi="http://www.w3.org/2001/XMLSchema">
<head>
    <title>Caddy ESI Tag gRPC</title>
</head>
<body>

    <h1>Caddy ESI Tag gRPC.</h1>
    <h2>The coalesce request sleeps for 300ms to let other requests pile up in the singleflight.Group.Do</h2>

    <table border="1">
        <tr>
            <th>Name</th>
            <th>Output</th>
        </tr>
        <tr>
            <td class="gRPCSuccess">Should load text coalesce</td>
            <td><esi:include src="grpc_integration_01" key="coalesce_enabled"
                             coalesce="true" onerror="Hoppla - Something went wrong in grpc1a" timeout="500ms"/></td>
        </tr>
        <tr>
            <td class="gRPCSuccess">Should load text on every request</td>
            <td><esi:include src="grpc_integration_01" key="coalesce_disabled"
                             onerror="Hoppla - Something went wrong in grpc1b" timeout="100ms"/></td>
        </tr>
    </table>

</body>
</html>
